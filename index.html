<!DOCTYPE html>
<html lang="es">
<head>
<!-- ================= METAETIQUETAS ESENCIALES ================= -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Acceso al sistema institucional - Login seguro">
<meta name="theme-color" content="#003366">
<!-- ================= T√çTULO E ICONOS ================= -->
<title>Acceso | Sistema de Gesti√≥n Administrativa</title>
<link rel="icon" href="img/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="img/logo.png">
<!-- ================= ESTILOS ================= -->
<!-- Fuentes Google -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<!-- Hoja de estilos principal -->
<link rel="stylesheet" href="css/style.css">

<!-- ================= ESTILOS NUEVOS PARA LAYOUT DIVIDIDO ================= -->
<style>
    /* Reset b√°sico para el layout */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body.login-page {
        font-family: 'Roboto', sans-serif;
        background-color: #f4f6f9;
        height: 100vh;
        overflow: hidden; /* Evitar scroll en pantallas grandes */
    }

    /* Contenedor Principal Dividido */
    .split-container {
        display: flex;
        height: 100vh;
        width: 100%;
    }

    /* ================= LADO IZQUIERDO: VISOR DE IM√ÅGENES ================= */
    .visual-panel {
        flex: 1; /* Ocupa el 50% */
        position: relative;
        background-color: #003366;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .slider-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .slide {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 1.5s ease-in-out; /* Transici√≥n suave */
    }

    .slide.active {
        opacity: 1;
    }

    /* Capa oscura sobre las im√°genes para que el texto resalte (opcional) */
    .visual-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 51, 102, 0.4);
        z-index: 1;
    }

    .visual-text {
        position: relative;
        z-index: 2;
        color: white;
        text-align: center;
        padding: 20px;
        max-width: 80%;
    }

    .visual-text h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    /* ================= LADO DERECHO: LOGIN ================= */
    .login-panel {
        flex: 1; /* Ocupa el 50% */
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #ffffff;
        padding: 20px;
        position: relative;
        z-index: 10;
    }

    .login-wrapper {
        width: 100%;
        max-width: 450px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* Ajustes para la tarjeta de login existente */
    .login-card {
        width: 100%;
        padding: 2rem;
        /* Eliminar sombras o bordes si conflict√∫an con el nuevo dise√±o limpio */
        box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        border-radius: 8px;
        background: #fff;
    }

    .login-header { text-align: center; margin-bottom: 2rem; }
    .logo { margin-bottom: 1rem; }
    
    /* Footer y Copyright ajustados */
    .copyright {
        margin-top: 2rem;
        font-size: 0.85rem;
        color: #666;
        text-align: center;
    }

    .login-footer { margin-top: 2rem; }
    .security-badge { 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        gap: 8px; 
        font-size: 0.8rem; 
        color: #28a745; 
        background: #e8f5e9; 
        padding: 8px 12px; 
        border-radius: 20px;
        width: fit-content;
        margin: 0 auto;
    }

    /* ================= RESPONSIVE (M√ìVILES) ================= */
    @media (max-width: 768px) {
        .split-container { flex-direction: column; }
        .visual-panel { display: none; /* Ocultar im√°genes en m√≥vil */ }
        .login-panel { width: 100%; height: 100%; }
        body.login-page { overflow: auto; } /* Permitir scroll en m√≥vil */
    }
</style>
</head>
<body class="login-page">

<!-- ================= CONTENEDOR PRINCIPAL DIVIDIDO ================= -->
<div class="split-container">
    
    <!-- LADO IZQUIERDO: Visor de Im√°genes -->
    <section class="visual-panel">
        <div class="slider-container">
            <!-- üîß REEMPLAZA: src con tus 4 im√°genes institucionales -->
            <!-- Usando placeholders para el ejemplo -->
            <img src="https://placehold.co/1080x1920/003366/FFF?text=Seguridad+1" alt="Institucional 1" class="slide active">
            <img src="https://placehold.co/1080x1920/004080/FFF?text=Tecnolog√≠a+2" alt="Institucional 2" class="slide">
            <img src="https://placehold.co/1080x1920/0059b3/FFF?text=Gesti√≥n+3" alt="Institucional 3" class="slide">
            <img src="https://placehold.co/1080x1920/0073e6/FFF?text=Servicio+4" alt="Institucional 4" class="slide">
        </div>
        <div class="visual-overlay"></div>
        <div class="visual-text">
            <h2>Sistema de Gesti√≥n Administrativa</h2>
            <p>Plataforma segura para el Cuerpo de Polic√≠a Nacional Bolivariana</p>
        </div>
    </section>

    <!-- LADO DERECHO: Login -->
    <section class="login-panel">
        <main class="login-wrapper" role="main">
            <!-- Tarjeta de Login -->
            <article class="login-card" aria-labelledby="login-title">
                <!-- Secci√≥n: Logo y T√≠tulo -->
                <header class="login-header">
                    <div class="logo-container">
                        <!-- üîß REEMPLAZA: src con tu logo real -->
                        <img
                            src="img/logo.png"
                            alt="Logo Institucional"
                            class="logo"
                            width="80"
                            height="80"
                            loading="lazy"
                        >
                    </div>
                    <h1 id="login-title">Acceso Usuario</h1>
                    <p class="login-subtitle">Ingresa tus credenciales para continuar</p>
                </header>
                <!-- Secci√≥n: Formulario -->
                <form id="loginForm" class="login-form" novalidate>
                    <!-- Campo: Email -->
                    <div class="form-group">
                        <label for="email" class="form-label">Correo Electr√≥nico</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            class="form-input"
                            placeholder="ejemplo@institucion.com"
                            required
                            autocomplete="email"
                            aria-required="true"
                        >
                    </div>
                    <!-- Campo: Contrase√±a -->
                    <div class="form-group">
                        <label for="password" class="form-label">Contrase√±a</label>
                        <input
                            type="password"
                            id="password"
                            name="password"
                            class="form-input"
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            required
                            autocomplete="current-password"
                            aria-required="true"
                            minlength="6"
                        >
                    </div>
                    <!-- Mensajes de error/√©xito -->
                    <div id="formMessage" class="form-message" role="alert" aria-live="polite"></div>
                    <!-- Bot√≥n de env√≠o -->
                    <button type="submit" class="btn btn-primary btn-login" id="submitBtn">
                        <span class="btn-text">Ingresar</span>
                        <span class="btn-loader" hidden>Procesando...</span>
                    </button>
                </form>
                <!-- Footer: Mensaje de Seguridad Elegante -->
                <footer class="login-footer">
                    <!-- Badge de seguridad minimalista -->
                    <div class="security-badge">
                        <span class="security-icon">üîí</span>
                        <span class="security-label">Conexi√≥n segura</span>
                    </div>
                </footer>
            </article>
            <!-- Pie de p√°gina institucional -->
            <p class="copyright">
                &copy; <span id="currentYear"></span> OTIC ZULIA. Todos los derechos reservados.
            </p>
        </main>
    </section>
</div>

<!-- ================= SCRIPTS ================= -->
<!-- Librer√≠a de Supabase (CDN) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
<!-- L√≥gica de autenticaci√≥n (archivo separado) -->
<script src="js/auth.js" defer></script>

<!-- Script para el Slider de Im√°genes y A√±o -->
<script>
    // 1. A√±o autom√°tico en el copyright
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    // 2. L√≥gica del Slider de Im√°genes (Carrusel Suave)
    document.addEventListener('DOMContentLoaded', () => {
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        const slideInterval = 5000; // 5 segundos por imagen (poco a poco)

        function nextSlide() {
            // Quitar clase active de la actual
            slides[currentSlide].classList.remove('active');
            // Calcular siguiente √≠ndice
            currentSlide = (currentSlide + 1) % slides.length;
            // Poner clase active a la siguiente
            slides[currentSlide].classList.add('active');
        }

        // Iniciar el intervalo si hay m√°s de una imagen
        if (slides.length > 1) {
            setInterval(nextSlide, slideInterval);
        }
    });
</script>
</body>
</html>
